- type: entity
  abstract: true
  parent: BaseItem
  id: CMBoxMagazineBase # todo cm14 all inheritors of this should have updating visuals.
  name: generic magazine box (? x ?)"
  description: A box of magazines.
  components:
  - type: Item
    size: Huge
  - type: CMAmmoBox
  - type: ItemSlots
  - type: CMItemSlots
    startingItem: CMMRE
    cooldown: 1
    cooldownPopup: You need to wait before taking another!
    count: 5
    slot:
      name: Magazine
      whitelist:
        tags:
        - MRE
  - type: Sprite
    sprite: _CM14/Objects/Weapons/Guns/Ammunition/Boxes/magazine_boxes.rsi
    layers:
    - state: base_m41ae2
    - state: magaz_m41ae2_3
      map: [ "enum.CMAmmoBoxLayers.Ammo" ]

# M41A
- type: entity
  parent: CMBoxMagazineBase
  id: CMBoxMagazineRifleM41A
  name: magazine box (M41A x 10)
  components:
  - type: Sprite
    layers:
  #    - state: lid_type_reg
  #    - state: base_m41_lid
    - state: base_m41
    - state: magaz_reg
    - state: text_m41
    - state: base_type_reg
      map: [ "enum.CMAmmoBoxLayers.Ammo" ]
  - type: CMItemSlots
    startingItem: CMMagazineRifleM41A
    count: 10
    slot:
      whitelist:
        tags:
        - CMMagazineRifleM41A

- type: entity
  parent: CMBoxMagazineBase
  id: CMBoxMagazineRifleM41AAP
  name: magazine box (AP M41A x 10)
  components:
  - type: Sprite
    layers:
    #    - state: lid_type_ap
    #    - state: base_m41
    - state: base_m41
    - state: magaz_ap
    - state: text_m41
    - state: base_type_ap
      map: [ "enum.CMAmmoBoxLayers.Ammo" ]
  - type: CMItemSlots
    startingItem: CMMagazineRifleM41AAP
    count: 10
    slot:
      whitelist:
        tags:
        - CMMagazineRifleM41AAP

- type: entity
  parent: CMBoxMagazineBase
  id: CMBoxMagazineRifleM41AExt
  name: magazine box (Ext M41A x 10)
  components:
  - type: Sprite
    layers:
    #    - state: lid_type_ext
    #    - state: base_m41
    - state: base_m41
    - state: magaz_reg
    - state: text_m41
    - state: base_type_ext
      map: [ "enum.CMAmmoBoxLayers.Ammo" ]
  - type: CMItemSlots
    startingItem: CMMagazineRifleM41AExt
    count: 8
    slot:
      whitelist:
        tags:
        - CMMagazineRifleM41AExt

# M39
- type: entity
  parent: CMBoxMagazineBase
  id: CMBoxMagazineSMGM39
  name: magazine box (M39 x 12)
  components:
  - type: Sprite
    layers:
    #    - state: lid_type_ext
    #    - state: base_m41
    - state: base_m39
    - state: text_m39
    - state: base_type_reg
    - state: magaz_hv
      map: [ "enum.CMAmmoBoxLayers.Ammo" ]
  - type: CMItemSlots
    startingItem: CMMagazineSMGM39
    count: 12
    slot:
      whitelist:
        tags:
        - CMMagazineSMGM39

- type: entity
  parent: CMBoxMagazineBase
  id: CMBoxMagazineSMGM39AP
  name: magazine box (AP M39 x 10)
  components:
  - type: Sprite
    layers:
    #    - state: lid_type_ext
    #    - state: base_m41
    - state: base_m39
    - state: text_m39
    - state: base_type_ap
    - state: magaz_ap
      map: [ "enum.CMAmmoBoxLayers.Ammo" ]
  - type: CMItemSlots
    startingItem: CMMagazineSMGM39AP
    count: 12
    slot:
      whitelist:
        tags:
        - CMMagazineSMGM39AP

# M4RA
- type: entity
  parent: CMBoxMagazineBase
  id: CMBoxMagazineRifleM4RA
  name: magazine box (M4RA x 16
  components:
  - type: Sprite
    layers:
    #    - state: lid_type_ext
    #    - state: base_m41
    - state: base_m4ra
    - state: text_m4ra
    - state: base_type_reg
    - state: magaz_reg
      map: [ "enum.CMAmmoBoxLayers.Ammo" ]
  - type: CMItemSlots
    startingItem: CMMagazineRifleM4RA
    count: 12
    slot:
      whitelist:
        tags:
        - CMMagazineRifleM4RA

- type: entity
  parent: CMBoxMagazineBase
  id: CMBoxMagazineRifleM4RAAP
  name: magazine box (AP M4RA x 16)
  components:
  - type: Sprite
    layers:
    #    - state: lid_type_ext
    #    - state: base_m41
    - state: base_m4ra
    - state: text_m4ra
    - state: base_type_ap
    - state: magaz_ap
      map: [ "enum.CMAmmoBoxLayers.Ammo" ]
  - type: CMItemSlots
    startingItem: CMMagazineRifleM4RAAP
    count: 12
    slot:
      whitelist:
        tags:
        - CMMagazineRifleM4RAAP
