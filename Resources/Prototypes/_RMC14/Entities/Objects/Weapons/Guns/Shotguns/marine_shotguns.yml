- type: entity
  abstract: true
  parent: [ BaseItem, CMBaseWeaponGun, RMCBaseAttachableHolder ]
  id: RMCBaseWeaponShotgun
  components:
  - type: Item
    size: Large
  - type: Sprite
    layers:
    - state: base
      map: ["enum.GunVisualLayers.Base"]
  - type: Clothing
    sprite: Objects/Weapons/Guns/Shotguns/db_shotgun.rsi
    slots:
    - Back
    - SuitStorage
  - type: Wieldable
  - type: WieldDelay
    baseDelay: 0.6
  - type: WieldableSpeedModifiers
    baseWalk: 0.842
    baseSprint: 0.748
  - type: AmmoCounter
  - type: Gun
    selectedMode: SemiAuto
    availableModes:
    - SemiAuto
    soundGunshot:
      path: /Audio/_RMC14/Weapons/Guns/Gunshots/gun_shotgun.ogg
    soundEmpty:
      path: /Audio/Weapons/Guns/Empty/empty.ogg
  - type: RMCSelectiveFire
    baseFireModes:
    - SemiAuto
    recoilWielded: 2
    recoilUnwielded: 4
    scatterWielded: 10
    scatterUnwielded: 20
    baseFireRate: 1.429
    burstScatterMult: 5
  - type: BallisticAmmoProvider
    cycleable: false
    whitelist:
      tags:
      - CMShellShotgun
    capacity: 9
    proto: null
    soundInsert:
      collection: CMShotgunLoad
  - type: ContainerContainer
    containers:
      ballistic-ammo: !type:Container
        ents: []
  - type: RMCAmmoEject
    containerID: ballistic-ammo
    ejectSound: /Audio/_RMC14/Weapons/Guns/Reload/m42a2.ogg
  - type: StaticPrice
    price: 500
  - type: RMCNameItemOnVend
    item: PrimaryGun
  - type: Tag
    tags:
    - RMCWeaponShotgun
  - type: RMCFireGroup
    group: Shotgun
    delay: 4

- type: entity
  abstract: true
  parent: RMCBaseWeaponShotgun
  id: RMCBaseBreechloader
  components:
  - type: Sprite
    sprite: Objects/Weapons/Guns/Shotguns/db_shotgun.rsi
    layers:
    - state: base
      map: [ "enum.BreechVisuals.Open" ]
  - type: Appearance
  - type: GenericVisualizer
    visuals:
      enum.BreechVisuals.Open:
        enum.BreechVisuals.Open:
          True: { state: bolt-open }
          False: { state: base }
  - type: BallisticAmmoProvider
    cycleable: true
    capacity: 2
    soundInsert:
      path: /Audio/_RMC14/Weapons/Guns/Reload/grenade_insert.ogg
      params:
        volume: -2
  - type: UniqueAction
  - type: BreechLoaded
    needOpenClose: false
  - type: RMCFireGroup
    group: Shotgun
    delay: 0

- type: entity
  parent: [ RMCBaseWeaponShotgun, RMCBaseAttachableHolder ]
  name: M42A2 Pump Shotgun
  id: WeaponShotgunM42A2
  description: An Aegis Battlefield Armaments classic design, the M42A2 combines close-range firepower with long term reliability. Needs to be pumped.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Shotguns/m42a2.rsi
  - type: Clothing
    sprite: _RMC14/Objects/Weapons/Guns/Shotguns/m42a2.rsi
  - type: Gun
    shotsPerBurst: 1
  - type: ShootUseDelay
  - type: RMCSelectiveFire
    baseFireModes:
    - SemiAuto
    - Burst
    recoilWielded: 2
    recoilUnwielded: 4
    scatterWielded: 10
    scatterUnwielded: 10
    baseFireRate: 0.5
    burstScatterMult: 5
  - type: PumpAction
  - type: AttachableHolder
    slots:
      rmc-aslot-barrel:
        whitelist:
          tags:
          - RMCAttachmentBarrelCharger
          - RMCAttachmentRecoilCompensator
          - RMCM5Bayonet
      rmc-aslot-rail:
        whitelist:
          tags:
          - RMCAttachmentRailFlashlight
          - RMCAttachmentMagneticHarness
          - RMCAttachmentS5RedDotSight
          - RMCAttachmentS6ReflexSight
      rmc-aslot-stock:
        whitelist:
          tags:
          - RMCAttachmentM42A2WoodenStock
      rmc-aslot-underbarrel:
        whitelist:
          tags:
          - RMCAttachmentAngledGrip
          - RMCAttachmentFlashlightGrip
          - RMCAttachmentGyroscopicStabilizer
          - RMCAttachmentVerticalGrip
  - type: AttachableHolderVisuals
    offsets:
      rmc-aslot-barrel: 0.81, 0.06
      rmc-aslot-rail: -0.025, 0.125
      rmc-aslot-stock: -0.375, -0.029
      rmc-aslot-underbarrel: 0.25, -0.31
      
- type: entity
  parent: [ RMCBaseBreechloader, RMCBaseAttachableHolder ]
  name: M357 Rival
  id: WeaponShotgunM357
  description: A double barrel shotgun produced by Aegis. Archaic, sturdy, affordable. Only holds two 12g shells at a time.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Shotguns/doublebarrel.rsi
  - type: Gun
    shotsPerBurst: 2
  - type: ShootUseDelay
  - type: BallisticAmmoProvider
    cycleable: true
    whitelist:
      tags:
      - CMShellShotgun
    capacity: 2
  - type: RMCSelectiveFire
    baseFireModes:
    - SemiAuto
    - Burst
    recoilWielded: 2
    recoilUnwielded: 4
    scatterWielded: 10
    scatterUnwielded: 20
    baseFireRate: 2
    burstScatterMult: 1
  - type: Construction
    graph: M357Sawn
    node: start
    deconstructionTarget: null
  - type: AttachableHolder
    slots:
      rmc-aslot-barrel:
        whitelist:
          tags:
          - RMCM5Bayonet
      rmc-aslot-rail:
        whitelist:
          tags:
          - RMCAttachmentRailFlashlight
          - RMCAttachmentMagneticHarness
          - RMCAttachmentS5RedDotSight
          - RMCAttachmentS6ReflexSight
      rmc-aslot-stock:
        startingAttachable: RMCAttachmentDoubleBarrelShotgunStock
        whitelist:
          tags:
          - RMCAttachmentDoubleBarrelShotgunStock
      rmc-aslot-underbarrel:
        whitelist:
          tags:
          - RMCAttachmentGyroscopicStabilizer
  - type: AttachableHolderVisuals
    offsets:
      rmc-aslot-barrel: 0.81, 0.06
      rmc-aslot-rail: -0.025, 0.09
      rmc-aslot-stock: -0.55, -0.05
      rmc-aslot-underbarrel: 0.25, -0.31

- type: entity
  parent: [ RMCBaseBreechloader, RMCBaseAttachableHolder ]
  name: Sawn-Off M357 Rival
  id: WeaponShotgunM357Sawn
  description: A double barrel shotgun produced by Aegis. Archaic, sturdy, affordable. It has been artificially shortened to reduce range but increase damage and spread.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Shotguns/dbsawnoff.rsi
  - type: Item
    size: Normal
  - type: GunDamageModifier
    multiplier: 0.80
  - type: RMCExtraProjectilesDamageMods
    damageMultiplier: 1.5 
  - type: RMCWeaponDamageFalloff
    falloffMultiplier: 2 # Adjust as needed
  - type: RMCSelectiveFire
    recoilWielded: 3
    recoilUnwielded: 5
    scatterWielded: 10 
    scatterUnwielded: 20
    baseFireRate: 2
    burstScatterMult: 1
  - type: AttachableHolder
    slots:
      rmc-aslot-rail:
        whitelist:
          tags:
          - RMCAttachmentRailFlashlight
          - RMCAttachmentMagneticHarness
          - RMCAttachmentS5RedDotSight
          - RMCAttachmentS6ReflexSight
      rmc-aslot-stock:
        startingAttachable: RMCAttachmentDoubleBarrelShotgunStock
        whitelist:
          tags:
          - RMCAttachmentDoubleBarrelShotgunStock
      rmc-aslot-underbarrel:
        whitelist:
          tags:
          - RMCAttachmentGyroscopicStabilizer
  - type: AttachableHolderVisuals
    offsets:
      rmc-aslot-rail: -0.025, 0.09
      rmc-aslot-stock: -0.55, -0.05
      rmc-aslot-underbarrel: 0.25, -0.31

- type: entity
  parent: [ RMCBaseBreechloader, RMCBaseAttachableHolder ]
  name: MOU53 break action shotgun
  id: WeaponShotgunMOU53
  description: A limited production Kerchner MOU53 triple break action classic. Respectable damage output at medium ranges, while the Aegis M42 is the king of CQC, the Kerchner MOU53 is what hits the broadside of that barn. This specific model cannot safely fire buckshot shells.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Shotguns/mou53.rsi
  - type: Clothing
    sprite: _RMC14/Objects/Weapons/Guns/Shotguns/mou53.rsi
  - type: Gun
    shotsPerBurst: 1
  - type: ShootUseDelay
  - type: RMCSelectiveFire
    baseFireModes:
    - SemiAuto
    - Burst
    recoilWielded: 2
    recoilUnwielded: 4
    scatterWielded: 9
    scatterUnwielded: 18
    baseFireRate: 2
    burstScatterMult: 1
  - type: BallisticAmmoProvider
    cycleable: true
    whitelist:
      tags:
      - CMShellShotgunSlugs
      - CMShellShotgunIncendiary
      - CMShellShotgunBeanbag
      - CMShellShotgunFlechette
    proto: CMShellShotgunSlugs
    capacity: 3 #It's a lovely triple barrel
    soundInsert:
      path: /Audio/_RMC14/Weapons/Guns/Reload/grenade_insert.ogg
      params:
        volume: -2
  - type: AttachableHolder
    slots:
      rmc-aslot-barrel:
        whitelist:
          tags:
          - RMCM5Bayonet
      rmc-aslot-rail:
        whitelist:
          tags:
          - RMCAttachmentRailFlashlight
          - RMCAttachmentMagneticHarness
          - RMCAttachmentS5RedDotSight
          - RMCAttachmentS6ReflexSight
          - RMCAttachmentS42xTelescopicMiniscope
      rmc-aslot-stock:
        startingAttachable: RMCAttachmentMOU53Stock
        whitelist:
          tags:
          - RMCAttachmentMOU53Stock
      rmc-aslot-underbarrel:
        whitelist:
          tags:
          - RMCAttachmentGyroscopicStabilizer
          - RMCAttachmentFlashlightGrip
          - RMCAttachmentAngledGrip
          - RMCAttachmentVerticalGrip
          - RMCAttachmentLaserSight
  - type: AttachableHolderVisuals
    offsets:
      rmc-aslot-barrel: 0.8, 0.06
      rmc-aslot-rail: -0.02, 0.15
      rmc-aslot-stock: -0.65, -0.18
      rmc-aslot-underbarrel: 0.5, -0.25

- type: Tag
  id: RMCWeaponShotgun