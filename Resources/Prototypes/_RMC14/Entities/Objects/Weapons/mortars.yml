- type: entity
  parent: BaseItem
  id: RMCMortarKit
  name: M402 mortar portable kit
  description: A manual, crew-operated mortar system intended to rain down 80mm goodness on anything it's aimed at. Needs to be set down first.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/mortar.rsi
    layers:
    - map: [ "mortar" ]
      state: mortar_m402_carry
  - type: Item
    size: Huge
  - type: Corrodible
    isCorrodible: false
  - type: Mortar
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 100
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: UserInterface
    interfaces:
      enum.MortarUiKey.Key:
        type: MortarBui
  - type: ActivatableUI
    key: enum.MortarUiKey.Key
  - type: GenericVisualizer
    visuals:
      enum.MortarVisualLayers.State:
        mortar:
          enum.MortarVisuals.Item: { state: mortar_m402_carry }
          enum.MortarVisuals.Deployed: { state: mortar_m402 }
  - type: InteractedBlacklist
    blacklist:
      components:
      - Xeno
  - type: ActivatableUIBlacklist
    blacklist:
      components:
      - Xeno

- type: entity
  abstract: true
  parent: BaseItem
  id: RMCMortarShellBase
  name: 80mm mortar shell
  description: An unlabeled 80mm mortar shell, probably a casing.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/mortar.rsi
    state: mortar_ammo_cas
  - type: Item
    size: Huge
  - type: MortarShell

- type: entity
  parent: RMCMortarShellBase
  id: RMCMortarShellHE
  name: 80mm high explosive mortar shell
  description: An 80mm mortar shell, loaded with a high explosive charge.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/mortar.rsi
    state: mortar_ammo_he
  - type: Explosive
    explosionType: RMC
    maxIntensity: 30 # max 150 brute, 150 burn
    intensitySlope: 5
    totalIntensity: 800
    canCreateVacuum: false
  - type: CMExplosionEffect
  - type: MortarShell

- type: entity
  parent: RMCMortarShellBase
  id: RMCMortarShellFlare
  name: 80mm flare/camera mortar shell
  description: An 80mm mortar shell, loaded with an illumination flare / camera combo, attached to a parachute.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/mortar.rsi
    state: mortar_ammo_flr
  - type: MortarShell
